"use strict";var KEYMAP={TAB:9};function initNavigation(){initNavToggleSubmenus(),initNavToggleSmall()}function initNavToggleSubmenus(){var e=document.querySelectorAll(".nav--toggle-sub");if(e.length)for(var t=0;t<e.length;t++)initEachNavToggleSubmenu(e[t])}function initEachNavToggleSubmenu(e){var t=e.querySelectorAll(".menu ul");if(t.length)for(var n=getDropdownButton(),o=0;o<t.length;o++){var l=t[o].parentNode,a=l.querySelector(".dropdown"),r=(a||((a=document.createElement("span")).classList.add("dropdown"),(r=document.createElement("i")).classList.add("dropdown-symbol"),a.appendChild(r),t[o].parentNode.insertBefore(a,t[o])),n.cloneNode(!0));r.innerHTML=a.innerHTML,a.parentNode.replaceChild(r,a),r.addEventListener("click",function(e){toggleSubMenu(e.target.parentNode)}),l.addEventListener("mouseleave",function(e){toggleSubMenu(e.target,!1)}),l.querySelector("a").addEventListener("focus",function(e){for(var t=e.target.parentNode.parentNode.querySelectorAll("li.menu-item--toggled-on"),n=0;n<t.length;n++)toggleSubMenu(t[n],!1)}),t[o].addEventListener("keydown",function(e){var t="ul.toggle-show > li > a, ul.toggle-show > li > button";KEYMAP.TAB===e.keyCode&&(e.shiftKey?isfirstFocusableElement(e.target,document.activeElement,t)&&toggleSubMenu(e.target.parentNode,!1):islastFocusableElement(e.target,document.activeElement,t)&&toggleSubMenu(e.target.parentNode,!1))}),t[o].parentNode.classList.add("menu-item--has-toggle")}}function initNavToggleSmall(){var e=document.querySelectorAll(".nav--toggle-small");if(e.length)for(var t=0;t<e.length;t++)initEachNavToggleSmall(e[t])}function initEachNavToggleSmall(t){var e=t.querySelector(".menu-toggle");e&&(e.setAttribute("aria-expanded","false"),e.addEventListener("click",function(e){t.classList.toggle("nav--toggled-on"),e.target.setAttribute("aria-expanded","false"===e.target.getAttribute("aria-expanded")?"true":"false")},!1))}function toggleSubMenu(e,t){var n=e.querySelector(".dropdown-toggle"),o=e.querySelector("ul"),l=e.classList.contains("menu-item--toggled-on");if(n.setAttribute("aria-expanded",(!(l=void 0!==t&&"boolean"==typeof t?!t:l)).toString()),l){e.classList.remove("menu-item--toggled-on"),o.classList.remove("toggle-show"),n.setAttribute("aria-label",wpRigScreenReaderText.expand);for(var a=e.querySelectorAll(".menu-item--toggled-on"),r=0;r<a.length;r++)toggleSubMenu(a[r],!1)}else{for(var i=e.parentNode.querySelectorAll("li.menu-item--toggled-on"),g=0;g<i.length;g++)toggleSubMenu(i[g],!1);e.classList.add("menu-item--toggled-on"),o.classList.add("toggle-show"),n.setAttribute("aria-label",wpRigScreenReaderText.collapse)}}function getDropdownButton(){var e=document.createElement("button");return e.classList.add("dropdown-toggle"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label",wpRigScreenReaderText.expand),e}function isfirstFocusableElement(e,t,n){e=e.querySelectorAll(n);return 0<e.length&&t===e[0]}function islastFocusableElement(e,t,n){e=e.querySelectorAll(n);return 0<e.length&&t===e[e.length-1]}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initNavigation):initNavigation();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdmlnYXRpb24uanMiXSwibmFtZXMiOlsiS0VZTUFQIiwiVEFCIiwiaW5pdE5hdmlnYXRpb24iLCJpbml0TmF2VG9nZ2xlU3VibWVudXMiLCJpbml0TmF2VG9nZ2xlU21hbGwiLCJuYXZUT0dHTEUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIiwiaW5pdEVhY2hOYXZUb2dnbGVTdWJtZW51IiwibmF2IiwiU1VCTUVOVVMiLCJkcm9wZG93bkJ1dHRvbiIsImdldERyb3Bkb3duQnV0dG9uIiwicGFyZW50TWVudUl0ZW0iLCJwYXJlbnROb2RlIiwiZHJvcGRvd24iLCJ0aGlzRHJvcGRvd25CdXR0b24iLCJjcmVhdGVFbGVtZW50IiwiZHJvcGRvd25TeW1ib2wiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImluc2VydEJlZm9yZSIsImNsb25lTm9kZSIsInJlcGxhY2VDaGlsZCIsInRvZ2dsZVN1Yk1lbnUiLCJ0YXJnZXQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInBhcmVudE1lbnVJdGVtc1RvZ2dsZWQiLCJxdWVyeVNlbGVjdG9yIiwiaiIsImtleUNvZGUiLCJzaGlmdEtleSIsImlzZmlyc3RGb2N1c2FibGVFbGVtZW50IiwiYWN0aXZlRWxlbWVudCIsImZvY3VzU2VsZWN0b3IiLCJpc2xhc3RGb2N1c2FibGVFbGVtZW50IiwiaW5pdEVhY2hOYXZUb2dnbGVTbWFsbCIsIm1lbnVUT0dHTEUiLCJzZXRBdHRyaWJ1dGUiLCJ0b2dnbGUiLCJnZXRBdHRyaWJ1dGUiLCJmb3JjZVRvZ2dsZSIsInRvZ2dsZUJ1dHRvbiIsInN1Yk1lbnUiLCJwYXJlbnRNZW51SXRlbVRvZ2dsZWQiLCJ1bmRlZmluZWQiLCJ0b1N0cmluZyIsInN1Yk1lbnVJdGVtc1RvZ2dsZWQiLCJyZW1vdmUiLCJ3cFJpZ1NjcmVlblJlYWRlclRleHQiLCJleHBhbmQiLCJjb2xsYXBzZSIsImNvbnRhaW5lciIsImVsZW1lbnQiLCJmb2N1c2FibGVF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QSxhQUFBVyxzQkFBQUMsUUFHQzNCLElBREQsSUFBQXdCLEVBQXFCcEIsRUFBQUEsaUJBQXFDLDBCQUN6REosRUFBQUEsRUFBYW5CLEVBQUV1QixFQUF3QnZCLE9BQUtBLElBQzVDbUIsY0FFRHdCLEVBQUEzQyxJQUFBLE9BUE0sQ0FVTnNDLElBREFDLElBQUFBLEVBQXVCaEMsRUFBdkJDLFdBQUFULGlCQUFBLDRCQUNBdUMsRUFBWSxFQUFDSixFQUFBQSxFQUE0QlcsT0FBQUEsSUFDekMxQixjQUFBSSxFQUFBdkIsSUFBQSxHQUtGTyxFQUFBTSxVQUFBQyxJQUFBLHlCQUNBeUIsRUFBQTFCLFVBQUFDLElBQUEsZUFDQXdCLEVBQUFKLGFBQUEsYUFBQVcsc0JBQUFFLFdBT0MsU0FBQXpDLG9CQUVELElBQUFELEVBQUFQLFNBQUFhLGNBQUEsVUFJQSxPQUhBTixFQUFBUSxVQUFBQyxJQUFBLG1CQUNBVCxFQUFBNkIsYUFBQSxnQkFBQSxTQUNBN0IsRUFBQTZCLGFBQUEsYUFBQVcsc0JBQUFDLFFBQ0F6QyxFQVFFLFNBQUF1Qix3QkFBQW9CLEVBQUFDLEVBQUFuQixHQUhLb0IsRUFBb0JGLEVBQVVqRCxpQkFBa0IrQixHQUl0RCxPQUFBLEVBQU9vQixFQUFQakQsUUFDQWdELElBQUFDLEVBQUEsR0FVRCxTQUFTbkIsdUJBQXdCaUIsRUFBV0MsRUFBU25CLEdBRS9Db0IsRUFBcUJGLEVBQVVqRCxpQkFBQStCLEdBQ25DLE9BQUEsRUFBQW9CLEVBQW1CQSxRQUNuQkQsSUFBQUMsRUFBQUEsRUFBQWpELE9BQUEsR0F4UEYsWUFBQUgsU0FBQXFELFdBSUFyRCxTQUFLdUIsaUJBQXVCOEIsbUJBQWF6RCxnQkFBekNBIiwiZmlsZSI6Im5hdmlnYXRpb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIHdwUmlnU2NyZWVuUmVhZGVyVGV4dCAqL1xuLyoqXG4gKiBGaWxlIG5hdmlnYXRpb24uanMuXG4gKlxuICogSGFuZGxlcyB0b2dnbGluZyB0aGUgbmF2aWdhdGlvbiBtZW51IGZvciBzbWFsbCBzY3JlZW5zIGFuZCBlbmFibGVzIFRBQiBrZXlcbiAqIG5hdmlnYXRpb24gc3VwcG9ydCBmb3IgZHJvcGRvd24gbWVudXMuXG4gKi9cblxuY29uc3QgS0VZTUFQID0ge1xuXHRUQUI6IDksXG59O1xuXG5pZiAoICdsb2FkaW5nJyA9PT0gZG9jdW1lbnQucmVhZHlTdGF0ZSApIHtcblx0Ly8gVGhlIERPTSBoYXMgbm90IHlldCBiZWVuIGxvYWRlZC5cblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ0RPTUNvbnRlbnRMb2FkZWQnLCBpbml0TmF2aWdhdGlvbiApO1xufSBlbHNlIHtcblx0Ly8gVGhlIERPTSBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZC5cblx0aW5pdE5hdmlnYXRpb24oKTtcbn1cblxuLy8gSW5pdGlhdGUgdGhlIG1lbnVzIHdoZW4gdGhlIERPTSBsb2Fkcy5cbmZ1bmN0aW9uIGluaXROYXZpZ2F0aW9uKCkge1xuXHRpbml0TmF2VG9nZ2xlU3VibWVudXMoKTtcblx0aW5pdE5hdlRvZ2dsZVNtYWxsKCk7XG59XG5cbi8qKlxuICogSW5pdGlhdGUgdGhlIHNjcmlwdCB0byBwcm9jZXNzIGFsbFxuICogbmF2aWdhdGlvbiBtZW51cyB3aXRoIHN1Ym1lbnUgdG9nZ2xlIGVuYWJsZWQuXG4gKi9cbmZ1bmN0aW9uIGluaXROYXZUb2dnbGVTdWJtZW51cygpIHtcblx0Y29uc3QgbmF2VE9HR0xFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJy5uYXYtLXRvZ2dsZS1zdWInICk7XG5cblx0Ly8gTm8gcG9pbnQgaWYgbm8gbmF2cy5cblx0aWYgKCAhIG5hdlRPR0dMRS5sZW5ndGggKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Zm9yICggbGV0IGkgPSAwOyBpIDwgbmF2VE9HR0xFLmxlbmd0aDsgaSsrICkge1xuXHRcdGluaXRFYWNoTmF2VG9nZ2xlU3VibWVudSggbmF2VE9HR0xFWyBpIF0gKTtcblx0fVxufVxuXG4vKipcbiAqIEluaXRpYXRlIHRoZSBzY3JpcHQgdG8gcHJvY2VzcyBzdWJtZW51XG4gKiBuYXZpZ2F0aW9uIHRvZ2dsZSBmb3IgYSBzcGVjaWZpYyBuYXZpZ2F0aW9uIG1lbnUuXG4gKiBAcGFyYW0ge09iamVjdH0gbmF2IE5hdmlnYXRpb24gZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gaW5pdEVhY2hOYXZUb2dnbGVTdWJtZW51KCBuYXYgKSB7XG5cdC8vIEdldCB0aGUgc3VibWVudXMuXG5cdGNvbnN0IFNVQk1FTlVTID0gbmF2LnF1ZXJ5U2VsZWN0b3JBbGwoICcubWVudSB1bCcgKTtcblxuXHQvLyBObyBwb2ludCBpZiBubyBzdWJtZW51cy5cblx0aWYgKCAhIFNVQk1FTlVTLmxlbmd0aCApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBDcmVhdGUgdGhlIGRyb3Bkb3duIGJ1dHRvbi5cblx0Y29uc3QgZHJvcGRvd25CdXR0b24gPSBnZXREcm9wZG93bkJ1dHRvbigpO1xuXG5cdGZvciAoIGxldCBpID0gMDsgaSA8IFNVQk1FTlVTLmxlbmd0aDsgaSsrICkge1xuXHRcdGNvbnN0IHBhcmVudE1lbnVJdGVtID0gU1VCTUVOVVNbIGkgXS5wYXJlbnROb2RlO1xuXHRcdGxldCBkcm9wZG93biA9IHBhcmVudE1lbnVJdGVtLnF1ZXJ5U2VsZWN0b3IoICcuZHJvcGRvd24nICk7XG5cblx0XHQvLyBJZiBubyBkcm9wZG93biwgY3JlYXRlIG9uZS5cblx0XHRpZiAoICEgZHJvcGRvd24gKSB7XG5cdFx0XHQvLyBDcmVhdGUgZHJvcGRvd24uXG5cdFx0XHRkcm9wZG93biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdzcGFuJyApO1xuXHRcdFx0ZHJvcGRvd24uY2xhc3NMaXN0LmFkZCggJ2Ryb3Bkb3duJyApO1xuXG5cdFx0XHRjb25zdCBkcm9wZG93blN5bWJvbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdpJyApO1xuXHRcdFx0ZHJvcGRvd25TeW1ib2wuY2xhc3NMaXN0LmFkZCggJ2Ryb3Bkb3duLXN5bWJvbCcgKTtcblx0XHRcdGRyb3Bkb3duLmFwcGVuZENoaWxkKCBkcm9wZG93blN5bWJvbCApO1xuXG5cdFx0XHQvLyBBZGQgYmVmb3JlIHN1Ym1lbnUuXG5cdFx0XHRTVUJNRU5VU1sgaSBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBkcm9wZG93biwgU1VCTUVOVVNbIGkgXSApO1xuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgZHJvcGRvd24gdG8gYnV0dG9uLlxuXHRcdGNvbnN0IHRoaXNEcm9wZG93bkJ1dHRvbiA9IGRyb3Bkb3duQnV0dG9uLmNsb25lTm9kZSggdHJ1ZSApO1xuXG5cdFx0Ly8gQ29weSBjb250ZW50cyBvZiBkcm9wZG93biBpbnRvIGJ1dHRvbi5cblx0XHR0aGlzRHJvcGRvd25CdXR0b24uaW5uZXJIVE1MID0gZHJvcGRvd24uaW5uZXJIVE1MO1xuXG5cdFx0Ly8gUmVwbGFjZSBkcm9wZG93biB3aXRoIHRvZ2dsZSBidXR0b24uXG5cdFx0ZHJvcGRvd24ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoIHRoaXNEcm9wZG93bkJ1dHRvbiwgZHJvcGRvd24gKTtcblxuXHRcdC8vIFRvZ2dsZSB0aGUgc3VibWVudSB3aGVuIHdlIGNsaWNrIHRoZSBkcm9wZG93biBidXR0b24uXG5cdFx0dGhpc0Ryb3Bkb3duQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICggZSApID0+IHtcblx0XHRcdHRvZ2dsZVN1Yk1lbnUoIGUudGFyZ2V0LnBhcmVudE5vZGUgKTtcblx0XHR9ICk7XG5cblx0XHQvLyBDbGVhbiB1cCB0aGUgdG9nZ2xlIGlmIGEgbW91c2UgdGFrZXMgb3ZlciBmcm9tIGtleWJvYXJkLlxuXHRcdHBhcmVudE1lbnVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZWxlYXZlJywgKCBlICkgPT4ge1xuXHRcdFx0dG9nZ2xlU3ViTWVudSggZS50YXJnZXQsIGZhbHNlICk7XG5cdFx0fSApO1xuXG5cdFx0Ly8gV2hlbiB3ZSBmb2N1cyBvbiBhIG1lbnUgbGluaywgbWFrZSBzdXJlIGFsbCBzaWJsaW5ncyBhcmUgY2xvc2VkLlxuXHRcdHBhcmVudE1lbnVJdGVtLnF1ZXJ5U2VsZWN0b3IoICdhJyApLmFkZEV2ZW50TGlzdGVuZXIoICdmb2N1cycsICggZSApID0+IHtcblx0XHRcdGNvbnN0IHBhcmVudE1lbnVJdGVtc1RvZ2dsZWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCggJ2xpLm1lbnUtaXRlbS0tdG9nZ2xlZC1vbicgKTtcblx0XHRcdGZvciAoIGxldCBqID0gMDsgaiA8IHBhcmVudE1lbnVJdGVtc1RvZ2dsZWQubGVuZ3RoOyBqKysgKSB7XG5cdFx0XHRcdHRvZ2dsZVN1Yk1lbnUoIHBhcmVudE1lbnVJdGVtc1RvZ2dsZWRbIGogXSwgZmFsc2UgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHQvLyBIYW5kbGUga2V5Ym9hcmQgYWNjZXNzaWJpbGl0eSBmb3IgdHJhdmVyc2luZyBtZW51LlxuXHRcdFNVQk1FTlVTWyBpIF0uYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCAoIGUgKSA9PiB7XG5cdFx0XHQvLyBUaGVzZSBzcGVjaWZpYyBzZWxlY3RvcnMgaGVscCB1cyBvbmx5IHNlbGVjdCBpdGVtcyB0aGF0IGFyZSB2aXNpYmxlLlxuXHRcdFx0Y29uc3QgZm9jdXNTZWxlY3RvciA9ICd1bC50b2dnbGUtc2hvdyA+IGxpID4gYSwgdWwudG9nZ2xlLXNob3cgPiBsaSA+IGJ1dHRvbic7XG5cblx0XHRcdGlmICggS0VZTUFQLlRBQiA9PT0gZS5rZXlDb2RlICkge1xuXHRcdFx0XHRpZiAoIGUuc2hpZnRLZXkgKSB7XG5cdFx0XHRcdFx0Ly8gTWVhbnMgd2UncmUgdGFiYmluZyBvdXQgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgc3VibWVudS5cblx0XHRcdFx0XHRpZiAoIGlzZmlyc3RGb2N1c2FibGVFbGVtZW50KCBlLnRhcmdldCwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCwgZm9jdXNTZWxlY3RvciApICkge1xuXHRcdFx0XHRcdFx0dG9nZ2xlU3ViTWVudSggZS50YXJnZXQucGFyZW50Tm9kZSwgZmFsc2UgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gTWVhbnMgd2UncmUgdGFiYmluZyBvdXQgb2YgdGhlIGVuZCBvZiB0aGUgc3VibWVudS5cblx0XHRcdFx0fSBlbHNlIGlmICggaXNsYXN0Rm9jdXNhYmxlRWxlbWVudCggZS50YXJnZXQsIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsIGZvY3VzU2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHR0b2dnbGVTdWJNZW51KCBlLnRhcmdldC5wYXJlbnROb2RlLCBmYWxzZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0U1VCTUVOVVNbIGkgXS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoICdtZW51LWl0ZW0tLWhhcy10b2dnbGUnICk7XG5cdH1cbn1cblxuLyoqXG4gKiBJbml0aWF0ZSB0aGUgc2NyaXB0IHRvIHByb2Nlc3MgYWxsXG4gKiBuYXZpZ2F0aW9uIG1lbnVzIHdpdGggc21hbGwgdG9nZ2xlIGVuYWJsZWQuXG4gKi9cbmZ1bmN0aW9uIGluaXROYXZUb2dnbGVTbWFsbCgpIHtcblx0Y29uc3QgbmF2VE9HR0xFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJy5uYXYtLXRvZ2dsZS1zbWFsbCcgKTtcblxuXHQvLyBObyBwb2ludCBpZiBubyBuYXZzLlxuXHRpZiAoICEgbmF2VE9HR0xFLmxlbmd0aCApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBuYXZUT0dHTEUubGVuZ3RoOyBpKysgKSB7XG5cdFx0aW5pdEVhY2hOYXZUb2dnbGVTbWFsbCggbmF2VE9HR0xFWyBpIF0gKTtcblx0fVxufVxuXG4vKipcbiAqIEluaXRpYXRlIHRoZSBzY3JpcHQgdG8gcHJvY2VzcyBzbWFsbFxuICogbmF2aWdhdGlvbiB0b2dnbGUgZm9yIGEgc3BlY2lmaWMgbmF2aWdhdGlvbiBtZW51LlxuICogQHBhcmFtIHtPYmplY3R9IG5hdiBOYXZpZ2F0aW9uIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGluaXRFYWNoTmF2VG9nZ2xlU21hbGwoIG5hdiApIHtcblx0Y29uc3QgbWVudVRPR0dMRSA9IG5hdi5xdWVyeVNlbGVjdG9yKCAnLm1lbnUtdG9nZ2xlJyApO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBNRU5VVE9HR0xFIGlzIG1pc3NpbmcuXG5cdGlmICggISBtZW51VE9HR0xFICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIEFkZCBhbiBpbml0aWFsIHZhbHVlcyBmb3IgdGhlIGF0dHJpYnV0ZS5cblx0bWVudVRPR0dMRS5zZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyApO1xuXG5cdG1lbnVUT0dHTEUuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCBlICkgPT4ge1xuXHRcdG5hdi5jbGFzc0xpc3QudG9nZ2xlKCAnbmF2LS10b2dnbGVkLW9uJyApO1xuXHRcdGUudGFyZ2V0LnNldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnID09PSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJyApID8gJ3RydWUnIDogJ2ZhbHNlJyApO1xuXHR9LCBmYWxzZSApO1xufVxuXG4vKipcbiAqIFRvZ2dsZSBzdWJtZW51cyBvcGVuIGFuZCBjbG9zZWQsIGFuZCB0ZWxsIHNjcmVlbiByZWFkZXJzIHdoYXQncyBnb2luZyBvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJlbnRNZW51SXRlbSBQYXJlbnQgbWVudSBlbGVtZW50LlxuICogQHBhcmFtIHtib29sZWFufSBmb3JjZVRvZ2dsZSBGb3JjZSB0aGUgbWVudSB0b2dnbGUuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiB0b2dnbGVTdWJNZW51KCBwYXJlbnRNZW51SXRlbSwgZm9yY2VUb2dnbGUgKSB7XG5cdGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IHBhcmVudE1lbnVJdGVtLnF1ZXJ5U2VsZWN0b3IoICcuZHJvcGRvd24tdG9nZ2xlJyApLFxuXHRcdHN1Yk1lbnUgPSBwYXJlbnRNZW51SXRlbS5xdWVyeVNlbGVjdG9yKCAndWwnICk7XG5cdGxldCBwYXJlbnRNZW51SXRlbVRvZ2dsZWQgPSBwYXJlbnRNZW51SXRlbS5jbGFzc0xpc3QuY29udGFpbnMoICdtZW51LWl0ZW0tLXRvZ2dsZWQtb24nICk7XG5cblx0Ly8gV2lsbCBiZSB0cnVlIGlmIHdlIHdhbnQgdG8gZm9yY2UgdGhlIHRvZ2dsZSBvbiwgZmFsc2UgaWYgZm9yY2UgdG9nZ2xlIGNsb3NlLlxuXHRpZiAoIHVuZGVmaW5lZCAhPT0gZm9yY2VUb2dnbGUgJiYgJ2Jvb2xlYW4nID09PSAoIHR5cGVvZiBmb3JjZVRvZ2dsZSApICkge1xuXHRcdHBhcmVudE1lbnVJdGVtVG9nZ2xlZCA9ICEgZm9yY2VUb2dnbGU7XG5cdH1cblxuXHQvLyBUb2dnbGUgYXJpYS1leHBhbmRlZCBzdGF0dXMuXG5cdHRvZ2dsZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJywgKCAhIHBhcmVudE1lbnVJdGVtVG9nZ2xlZCApLnRvU3RyaW5nKCkgKTtcblxuXHQvKlxuXHQgKiBTdGVwcyB0byBoYW5kbGUgZHVyaW5nIHRvZ2dsZTpcblx0ICogLSBMZXQgdGhlIHBhcmVudCBtZW51IGl0ZW0ga25vdyB3ZSdyZSB0b2dnbGVkIG9uL29mZi5cblx0ICogLSBUb2dnbGUgdGhlIEFSSUEgbGFiZWwgdG8gbGV0IHNjcmVlbiByZWFkZXJzIGtub3cgd2lsbCBleHBhbmQgb3IgY29sbGFwc2UuXG5cdCAqL1xuXHRpZiAoIHBhcmVudE1lbnVJdGVtVG9nZ2xlZCApIHtcblx0XHQvLyBUb2dnbGUgXCJvZmZcIiB0aGUgc3VibWVudS5cblx0XHRwYXJlbnRNZW51SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCAnbWVudS1pdGVtLS10b2dnbGVkLW9uJyApO1xuXHRcdHN1Yk1lbnUuY2xhc3NMaXN0LnJlbW92ZSggJ3RvZ2dsZS1zaG93JyApO1xuXHRcdHRvZ2dsZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoICdhcmlhLWxhYmVsJywgd3BSaWdTY3JlZW5SZWFkZXJUZXh0LmV4cGFuZCApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIGFsbCBjaGlsZHJlbiBhcmUgY2xvc2VkLlxuXHRcdGNvbnN0IHN1Yk1lbnVJdGVtc1RvZ2dsZWQgPSBwYXJlbnRNZW51SXRlbS5xdWVyeVNlbGVjdG9yQWxsKCAnLm1lbnUtaXRlbS0tdG9nZ2xlZC1vbicgKTtcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBzdWJNZW51SXRlbXNUb2dnbGVkLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0dG9nZ2xlU3ViTWVudSggc3ViTWVudUl0ZW1zVG9nZ2xlZFsgaSBdLCBmYWxzZSApO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBNYWtlIHN1cmUgc2libGluZ3MgYXJlIGNsb3NlZC5cblx0XHRjb25zdCBwYXJlbnRNZW51SXRlbXNUb2dnbGVkID0gcGFyZW50TWVudUl0ZW0ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCAnbGkubWVudS1pdGVtLS10b2dnbGVkLW9uJyApO1xuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHBhcmVudE1lbnVJdGVtc1RvZ2dsZWQubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHR0b2dnbGVTdWJNZW51KCBwYXJlbnRNZW51SXRlbXNUb2dnbGVkWyBpIF0sIGZhbHNlICk7XG5cdFx0fVxuXG5cdFx0Ly8gVG9nZ2xlIFwib25cIiB0aGUgc3VibWVudS5cblx0XHRwYXJlbnRNZW51SXRlbS5jbGFzc0xpc3QuYWRkKCAnbWVudS1pdGVtLS10b2dnbGVkLW9uJyApO1xuXHRcdHN1Yk1lbnUuY2xhc3NMaXN0LmFkZCggJ3RvZ2dsZS1zaG93JyApO1xuXHRcdHRvZ2dsZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoICdhcmlhLWxhYmVsJywgd3BSaWdTY3JlZW5SZWFkZXJUZXh0LmNvbGxhcHNlICk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkcm9wZG93biBidXR0b25cbiAqIGVsZW1lbnQgbmVlZGVkIGZvciB0aGUgbWVudS5cbiAqIEByZXR1cm4ge09iamVjdH0gZHJvcC1kb3duIGJ1dHRvbiBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGdldERyb3Bkb3duQnV0dG9uKCkge1xuXHRjb25zdCBkcm9wZG93bkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdidXR0b24nICk7XG5cdGRyb3Bkb3duQnV0dG9uLmNsYXNzTGlzdC5hZGQoICdkcm9wZG93bi10b2dnbGUnICk7XG5cdGRyb3Bkb3duQnV0dG9uLnNldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnICk7XG5cdGRyb3Bkb3duQnV0dG9uLnNldEF0dHJpYnV0ZSggJ2FyaWEtbGFiZWwnLCB3cFJpZ1NjcmVlblJlYWRlclRleHQuZXhwYW5kICk7XG5cdHJldHVybiBkcm9wZG93bkJ1dHRvbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgZWxlbWVudCBpcyB0aGVcbiAqIGZpcnN0IGZvY3VzYWJsZSBlbGVtZW50IGluIHRoZSBjb250YWluZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGFpbmVyXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGZvY3VzU2VsZWN0b3JcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IHRoZSBlbGVtZW50IGlzIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCBpbiB0aGUgY29udGFpbmVyXG4gKi9cbmZ1bmN0aW9uIGlzZmlyc3RGb2N1c2FibGVFbGVtZW50KCBjb250YWluZXIsIGVsZW1lbnQsIGZvY3VzU2VsZWN0b3IgKSB7XG5cdGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoIGZvY3VzU2VsZWN0b3IgKTtcblx0aWYgKCAwIDwgZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoICkge1xuXHRcdHJldHVybiBlbGVtZW50ID09PSBmb2N1c2FibGVFbGVtZW50c1sgMCBdO1xuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgZWxlbWVudCBpcyB0aGVcbiAqIGxhc3QgZm9jdXNhYmxlIGVsZW1lbnQgaW4gdGhlIGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250YWluZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZm9jdXNTZWxlY3RvclxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgdGhlIGVsZW1lbnQgaXMgdGhlIGxhc3QgZm9jdXNhYmxlIGVsZW1lbnQgaW4gdGhlIGNvbnRhaW5lclxuICovXG5mdW5jdGlvbiBpc2xhc3RGb2N1c2FibGVFbGVtZW50KCBjb250YWluZXIsIGVsZW1lbnQsIGZvY3VzU2VsZWN0b3IgKSB7XG5cdGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoIGZvY3VzU2VsZWN0b3IgKTtcblx0aWYgKCAwIDwgZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoICkge1xuXHRcdHJldHVybiBlbGVtZW50ID09PSBmb2N1c2FibGVFbGVtZW50c1sgZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMSBdO1xuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cbiJdfQ==