"use strict";var KEYMAP={TAB:9};function initNavigation(){initNavToggleSubmenus(),initNavToggleSmall(),scrollToTop()}function initNavToggleSubmenus(){var e=document.querySelectorAll(".nav--toggle-sub");if(e.length)for(var t=0;t<e.length;t++)initEachNavToggleSubmenu(e[t])}function initEachNavToggleSubmenu(e){var t=e.querySelectorAll(".menu ul");if(t.length)for(var n=getDropdownButton(),o=0;o<t.length;o++){var l=t[o].parentNode,a=l.querySelector(".dropdown"),r=(a||((a=document.createElement("span")).classList.add("dropdown"),(r=document.createElement("i")).classList.add("dropdown-symbol"),a.appendChild(r),t[o].parentNode.insertBefore(a,t[o])),n.cloneNode(!0));r.innerHTML=a.innerHTML,a.parentNode.replaceChild(r,a),r.addEventListener("click",function(e){toggleSubMenu(e.target.parentNode)}),l.addEventListener("mouseleave",function(e){toggleSubMenu(e.target,!1)}),l.querySelector("a").addEventListener("focus",function(e){for(var t=e.target.parentNode.parentNode.querySelectorAll("li.menu-item--toggled-on"),n=0;n<t.length;n++)toggleSubMenu(t[n],!1)}),t[o].addEventListener("keydown",function(e){var t="ul.toggle-show > li > a, ul.toggle-show > li > button";KEYMAP.TAB===e.keyCode&&(e.shiftKey?isfirstFocusableElement(e.target,document.activeElement,t)&&toggleSubMenu(e.target.parentNode,!1):islastFocusableElement(e.target,document.activeElement,t)&&toggleSubMenu(e.target.parentNode,!1))}),t[o].parentNode.classList.add("menu-item--has-toggle")}}function initNavToggleSmall(){var e=document.querySelectorAll(".nav--toggle-small");if(e.length)for(var t=0;t<e.length;t++)initEachNavToggleSmall(e[t])}function initEachNavToggleSmall(t){var e=t.querySelector(".menu-toggle");e&&(e.setAttribute("aria-expanded","false"),e.addEventListener("click",function(e){t.classList.toggle("nav--toggled-on"),e.target.setAttribute("aria-expanded","false"===e.target.getAttribute("aria-expanded")?"true":"false")},!1))}function toggleSubMenu(e,t){var n=e.querySelector(".dropdown-toggle"),o=e.querySelector("ul"),l=e.classList.contains("menu-item--toggled-on");if(n.setAttribute("aria-expanded",(!(l=void 0!==t&&"boolean"==typeof t?!t:l)).toString()),l){e.classList.remove("menu-item--toggled-on"),o.classList.remove("toggle-show"),n.setAttribute("aria-label",wpRigScreenReaderText.expand);for(var a=e.querySelectorAll(".menu-item--toggled-on"),r=0;r<a.length;r++)toggleSubMenu(a[r],!1)}else{for(var i=e.parentNode.querySelectorAll("li.menu-item--toggled-on"),u=0;u<i.length;u++)toggleSubMenu(i[u],!1);e.classList.add("menu-item--toggled-on"),o.classList.add("toggle-show"),n.setAttribute("aria-label",wpRigScreenReaderText.collapse)}}function getDropdownButton(){var e=document.createElement("button");return e.classList.add("dropdown-toggle"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label",wpRigScreenReaderText.expand),e}function isfirstFocusableElement(e,t,n){e=e.querySelectorAll(n);return 0<e.length&&t===e[0]}function islastFocusableElement(e,t,n){e=e.querySelectorAll(n);return 0<e.length&&t===e[e.length-1]}function scrollToTop(){document.querySelector(".scroll-top__button").addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initNavigation):initNavigation();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdmlnYXRpb24uanMiXSwibmFtZXMiOlsiS0VZTUFQIiwiVEFCIiwiaW5pdE5hdmlnYXRpb24iLCJpbml0TmF2VG9nZ2xlU3VibWVudXMiLCJpbml0TmF2VG9nZ2xlU21hbGwiLCJuYXZUT0dHTEUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIiwiaW5pdEVhY2hOYXZUb2dnbGVTdWJtZW51IiwibmF2IiwiU1VCTUVOVVMiLCJkcm9wZG93bkJ1dHRvbiIsImdldERyb3Bkb3duQnV0dG9uIiwicGFyZW50TWVudUl0ZW0iLCJwYXJlbnROb2RlIiwiZHJvcGRvd24iLCJ0aGlzRHJvcGRvd25CdXR0b24iLCJjcmVhdGVFbGVtZW50IiwiZHJvcGRvd25TeW1ib2wiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImluc2VydEJlZm9yZSIsImNsb25lTm9kZSIsInJlcGxhY2VDaGlsZCIsInRvZ2dsZVN1Yk1lbnUiLCJ0YXJnZXQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInBhcmVudE1lbnVJdGVtc1RvZ2dsZWQiLCJxdWVyeVNlbGVjdG9yIiwiaiIsImtleUNvZGUiLCJzaGlmdEtleSIsImlzZmlyc3RGb2N1c2FibGVFbGVtZW50IiwiYWN0aXZlRWxlbWVudCIsImZvY3VzU2VsZWN0b3IiLCJpc2xhc3RGb2N1c2FibGVFbGVtZW50IiwiaW5pdEVhY2hOYXZUb2dnbGVTbWFsbCIsIm1lbnVUT0dHTEUiLCJzZXRBdHRyaWJ1dGUiLCJ0b2dnbGUiLCJnZXRBdHRyaWJ1dGUiLCJmb3JjZVRvZ2dsZSIsInRvZ2dsZUJ1dHRvbiIsInN1Yk1lbnUiLCJwYXJlbnRNZW51SXRlbVRvZ2dsZWQiLCJ1bmRlZmluZWQiLCJ0b1N0cmluZyIsInN1Yk1lbnVJdGVtc1RvZ2dsZWQiLCJyZW1vdmUiLCJ3cFJpZ1NjcmVlblJlYWRlclRleHQiLCJleHBhbmQiLCJjb2xsYXBzZSIsImNvbnRhaW5lciIsImVsZW1lbnQiLCJmb2N1c2FibGVFbGVtZW50cyIsInNjcm9sbFRvVG9wIiwid2luZG93Iiwic2Nyb2xsVG8iLCJ0b3AiLCJiZWhhdmlvciIsInJlYWR5U3RhdGUiXSwibWFwcGluZ3MiOiJhQUtBLElBQUFBLE9BQUEsQ0FDQUMsSUFBQSxHQWVBLFNBQVNDLGlCQUNSQyx3QkFEREMscUJBQ0NELGNBUUQsU0FBQUEsd0JBRUMsSUFBTUUsRUFBWUMsU0FBU0MsaUJBQWtCLG9CQUE3QyxHQUFNRixFQUFZQyxPQUtqQixJQUFBLElBQUFFLEVBQUEsRUFBQUEsRUFBQUgsRUFBQUksT0FBQUQsSUFHQUUseUJBQTBCTCxFQUFXRyxJQVF2QyxTQUFBRSx5QkFBQUMsR0FHQyxJQUFNQyxFQUFXRCxFQUFJSixpQkFBa0IsWUFBdkMsR0FBTUssRUFBV0QsT0FRakIsSUFBQSxJQUFNRSxFQUFpQkMsb0JBQWpCRCxFQUFBQSxFQUFBQSxFQUFjRCxFQUFHRSxPQUFBQSxJQUF2QixDQUdDLElBQU1DLEVBQWlCSCxFQUFVSixHQUFJUSxXQUR0Q0MsRUFBQUYsRUFBOEJOLGNBQWMsYUFtQnJDUyxHQWRDRCxLQUNOQSxFQUFBWCxTQUFBYSxjQUFBLFNBQ0FGLFVBQVdYLElBQVNhLGFBR3BCQyxFQUFvQmQsU0FBV2EsY0FBZ0IsTUFDL0NDLFVBQWVDLElBQVVDLG1CQUN6QkwsRUFBQUEsWUFBU00sR0FJVFgsRUFFREosR0FBQVEsV0FBQVEsYUFBQVAsRUFBQUwsRUFBQUosS0FDMkJLLEVBQWVZLFdBQVcsSUFNckRSLEVBQVNELFVBQVdVLEVBQWNSLFVBSWpDUyxFQUFBQSxXQUFpQkMsYUFBT1osRUFBeEJDLEdBSURGLEVBQWVjLGlCQUFrQixRQUFqQyxTQUErQ0MsR0FDOUNILGNBQUFBLEVBQWVHLE9BQUVGLGNBS2pCYixFQUFNZ0IsaUJBQXlCRCxhQUFTZCxTQUFBQSxHQUx4Q1csY0FBZUcsRUFBRUYsUUFBUSxLQVN6QmIsRUFFRGlCLGNBQUEsS0FBQUgsaUJBQUEsUUFBQSxTQUFBQyxHQUNBbEIsSUFQQyxJQUFNbUIsRUFBeUJELEVBQUVGLE9BQU9aLFdBQVdB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Z2F0aW9uLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCB3cFJpZ1NjcmVlblJlYWRlclRleHQgKi9cclxuLyoqXHJcbiAqIEZpbGUgbmF2aWdhdGlvbi5qcy5cclxuICpcclxuICogSGFuZGxlcyB0b2dnbGluZyB0aGUgbmF2aWdhdGlvbiBtZW51IGZvciBzbWFsbCBzY3JlZW5zIGFuZCBlbmFibGVzIFRBQiBrZXlcclxuICogbmF2aWdhdGlvbiBzdXBwb3J0IGZvciBkcm9wZG93biBtZW51cy5cclxuICovXHJcblxyXG5jb25zdCBLRVlNQVAgPSB7XHJcblx0VEFCOiA5LFxyXG59O1xyXG5cclxuaWYgKCAnbG9hZGluZycgPT09IGRvY3VtZW50LnJlYWR5U3RhdGUgKSB7XHJcblx0Ly8gVGhlIERPTSBoYXMgbm90IHlldCBiZWVuIGxvYWRlZC5cclxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnRE9NQ29udGVudExvYWRlZCcsIGluaXROYXZpZ2F0aW9uICk7XHJcbn0gZWxzZSB7XHJcblx0Ly8gVGhlIERPTSBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZC5cclxuXHRpbml0TmF2aWdhdGlvbigpO1xyXG59XHJcblxyXG4vLyBJbml0aWF0ZSB0aGUgbWVudXMgd2hlbiB0aGUgRE9NIGxvYWRzLlxyXG5mdW5jdGlvbiBpbml0TmF2aWdhdGlvbigpIHtcclxuXHRpbml0TmF2VG9nZ2xlU3VibWVudXMoKTtcclxuXHRpbml0TmF2VG9nZ2xlU21hbGwoKTtcclxuXHRzY3JvbGxUb1RvcCgpO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhdGUgdGhlIHNjcmlwdCB0byBwcm9jZXNzIGFsbFxyXG4gKiBuYXZpZ2F0aW9uIG1lbnVzIHdpdGggc3VibWVudSB0b2dnbGUgZW5hYmxlZC5cclxuICovXHJcbmZ1bmN0aW9uIGluaXROYXZUb2dnbGVTdWJtZW51cygpIHtcclxuXHRjb25zdCBuYXZUT0dHTEUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLm5hdi0tdG9nZ2xlLXN1YicgKTtcclxuXHJcblx0Ly8gTm8gcG9pbnQgaWYgbm8gbmF2cy5cclxuXHRpZiAoICEgbmF2VE9HR0xFLmxlbmd0aCApIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGZvciAoIGxldCBpID0gMDsgaSA8IG5hdlRPR0dMRS5sZW5ndGg7IGkrKyApIHtcclxuXHRcdGluaXRFYWNoTmF2VG9nZ2xlU3VibWVudSggbmF2VE9HR0xFWyBpIF0gKTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0aWF0ZSB0aGUgc2NyaXB0IHRvIHByb2Nlc3Mgc3VibWVudVxyXG4gKiBuYXZpZ2F0aW9uIHRvZ2dsZSBmb3IgYSBzcGVjaWZpYyBuYXZpZ2F0aW9uIG1lbnUuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBuYXYgTmF2aWdhdGlvbiBlbGVtZW50LlxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEVhY2hOYXZUb2dnbGVTdWJtZW51KCBuYXYgKSB7XHJcblx0Ly8gR2V0IHRoZSBzdWJtZW51cy5cclxuXHRjb25zdCBTVUJNRU5VUyA9IG5hdi5xdWVyeVNlbGVjdG9yQWxsKCAnLm1lbnUgdWwnICk7XHJcblxyXG5cdC8vIE5vIHBvaW50IGlmIG5vIHN1Ym1lbnVzLlxyXG5cdGlmICggISBTVUJNRU5VUy5sZW5ndGggKSB7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHQvLyBDcmVhdGUgdGhlIGRyb3Bkb3duIGJ1dHRvbi5cclxuXHRjb25zdCBkcm9wZG93bkJ1dHRvbiA9IGdldERyb3Bkb3duQnV0dG9uKCk7XHJcblxyXG5cdGZvciAoIGxldCBpID0gMDsgaSA8IFNVQk1FTlVTLmxlbmd0aDsgaSsrICkge1xyXG5cdFx0Y29uc3QgcGFyZW50TWVudUl0ZW0gPSBTVUJNRU5VU1sgaSBdLnBhcmVudE5vZGU7XHJcblx0XHRsZXQgZHJvcGRvd24gPSBwYXJlbnRNZW51SXRlbS5xdWVyeVNlbGVjdG9yKCAnLmRyb3Bkb3duJyApO1xyXG5cclxuXHRcdC8vIElmIG5vIGRyb3Bkb3duLCBjcmVhdGUgb25lLlxyXG5cdFx0aWYgKCAhIGRyb3Bkb3duICkge1xyXG5cdFx0XHQvLyBDcmVhdGUgZHJvcGRvd24uXHJcblx0XHRcdGRyb3Bkb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3NwYW4nICk7XHJcblx0XHRcdGRyb3Bkb3duLmNsYXNzTGlzdC5hZGQoICdkcm9wZG93bicgKTtcclxuXHJcblx0XHRcdGNvbnN0IGRyb3Bkb3duU3ltYm9sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2knICk7XHJcblx0XHRcdGRyb3Bkb3duU3ltYm9sLmNsYXNzTGlzdC5hZGQoICdkcm9wZG93bi1zeW1ib2wnICk7XHJcblx0XHRcdGRyb3Bkb3duLmFwcGVuZENoaWxkKCBkcm9wZG93blN5bWJvbCApO1xyXG5cclxuXHRcdFx0Ly8gQWRkIGJlZm9yZSBzdWJtZW51LlxyXG5cdFx0XHRTVUJNRU5VU1sgaSBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBkcm9wZG93biwgU1VCTUVOVVNbIGkgXSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENvbnZlcnQgZHJvcGRvd24gdG8gYnV0dG9uLlxyXG5cdFx0Y29uc3QgdGhpc0Ryb3Bkb3duQnV0dG9uID0gZHJvcGRvd25CdXR0b24uY2xvbmVOb2RlKCB0cnVlICk7XHJcblxyXG5cdFx0Ly8gQ29weSBjb250ZW50cyBvZiBkcm9wZG93biBpbnRvIGJ1dHRvbi5cclxuXHRcdHRoaXNEcm9wZG93bkJ1dHRvbi5pbm5lckhUTUwgPSBkcm9wZG93bi5pbm5lckhUTUw7XHJcblxyXG5cdFx0Ly8gUmVwbGFjZSBkcm9wZG93biB3aXRoIHRvZ2dsZSBidXR0b24uXHJcblx0XHRkcm9wZG93bi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCggdGhpc0Ryb3Bkb3duQnV0dG9uLCBkcm9wZG93biApO1xyXG5cclxuXHRcdC8vIFRvZ2dsZSB0aGUgc3VibWVudSB3aGVuIHdlIGNsaWNrIHRoZSBkcm9wZG93biBidXR0b24uXHJcblx0XHR0aGlzRHJvcGRvd25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCBlICkgPT4ge1xyXG5cdFx0XHR0b2dnbGVTdWJNZW51KCBlLnRhcmdldC5wYXJlbnROb2RlICk7XHJcblx0XHR9ICk7XHJcblxyXG5cdFx0Ly8gQ2xlYW4gdXAgdGhlIHRvZ2dsZSBpZiBhIG1vdXNlIHRha2VzIG92ZXIgZnJvbSBrZXlib2FyZC5cclxuXHRcdHBhcmVudE1lbnVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZWxlYXZlJywgKCBlICkgPT4ge1xyXG5cdFx0XHR0b2dnbGVTdWJNZW51KCBlLnRhcmdldCwgZmFsc2UgKTtcclxuXHRcdH0gKTtcclxuXHJcblx0XHQvLyBXaGVuIHdlIGZvY3VzIG9uIGEgbWVudSBsaW5rLCBtYWtlIHN1cmUgYWxsIHNpYmxpbmdzIGFyZSBjbG9zZWQuXHJcblx0XHRwYXJlbnRNZW51SXRlbS5xdWVyeVNlbGVjdG9yKCAnYScgKS5hZGRFdmVudExpc3RlbmVyKCAnZm9jdXMnLCAoIGUgKSA9PiB7XHJcblx0XHRcdGNvbnN0IHBhcmVudE1lbnVJdGVtc1RvZ2dsZWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCggJ2xpLm1lbnUtaXRlbS0tdG9nZ2xlZC1vbicgKTtcclxuXHRcdFx0Zm9yICggbGV0IGogPSAwOyBqIDwgcGFyZW50TWVudUl0ZW1zVG9nZ2xlZC5sZW5ndGg7IGorKyApIHtcclxuXHRcdFx0XHR0b2dnbGVTdWJNZW51KCBwYXJlbnRNZW51SXRlbXNUb2dnbGVkWyBqIF0sIGZhbHNlICk7XHJcblx0XHRcdH1cclxuXHRcdH0gKTtcclxuXHJcblx0XHQvLyBIYW5kbGUga2V5Ym9hcmQgYWNjZXNzaWJpbGl0eSBmb3IgdHJhdmVyc2luZyBtZW51LlxyXG5cdFx0U1VCTUVOVVNbIGkgXS5hZGRFdmVudExpc3RlbmVyKCAna2V5ZG93bicsICggZSApID0+IHtcclxuXHRcdFx0Ly8gVGhlc2Ugc3BlY2lmaWMgc2VsZWN0b3JzIGhlbHAgdXMgb25seSBzZWxlY3QgaXRlbXMgdGhhdCBhcmUgdmlzaWJsZS5cclxuXHRcdFx0Y29uc3QgZm9jdXNTZWxlY3RvciA9ICd1bC50b2dnbGUtc2hvdyA+IGxpID4gYSwgdWwudG9nZ2xlLXNob3cgPiBsaSA+IGJ1dHRvbic7XHJcblxyXG5cdFx0XHRpZiAoIEtFWU1BUC5UQUIgPT09IGUua2V5Q29kZSApIHtcclxuXHRcdFx0XHRpZiAoIGUuc2hpZnRLZXkgKSB7XHJcblx0XHRcdFx0XHQvLyBNZWFucyB3ZSdyZSB0YWJiaW5nIG91dCBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBzdWJtZW51LlxyXG5cdFx0XHRcdFx0aWYgKCBpc2ZpcnN0Rm9jdXNhYmxlRWxlbWVudCggZS50YXJnZXQsIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsIGZvY3VzU2VsZWN0b3IgKSApIHtcclxuXHRcdFx0XHRcdFx0dG9nZ2xlU3ViTWVudSggZS50YXJnZXQucGFyZW50Tm9kZSwgZmFsc2UgKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIE1lYW5zIHdlJ3JlIHRhYmJpbmcgb3V0IG9mIHRoZSBlbmQgb2YgdGhlIHN1Ym1lbnUuXHJcblx0XHRcdFx0fSBlbHNlIGlmICggaXNsYXN0Rm9jdXNhYmxlRWxlbWVudCggZS50YXJnZXQsIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsIGZvY3VzU2VsZWN0b3IgKSApIHtcclxuXHRcdFx0XHRcdHRvZ2dsZVN1Yk1lbnUoIGUudGFyZ2V0LnBhcmVudE5vZGUsIGZhbHNlICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9ICk7XHJcblxyXG5cdFx0U1VCTUVOVVNbIGkgXS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoICdtZW51LWl0ZW0tLWhhcy10b2dnbGUnICk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhdGUgdGhlIHNjcmlwdCB0byBwcm9jZXNzIGFsbFxyXG4gKiBuYXZpZ2F0aW9uIG1lbnVzIHdpdGggc21hbGwgdG9nZ2xlIGVuYWJsZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0TmF2VG9nZ2xlU21hbGwoKSB7XHJcblx0Y29uc3QgbmF2VE9HR0xFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJy5uYXYtLXRvZ2dsZS1zbWFsbCcgKTtcclxuXHJcblx0Ly8gTm8gcG9pbnQgaWYgbm8gbmF2cy5cclxuXHRpZiAoICEgbmF2VE9HR0xFLmxlbmd0aCApIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGZvciAoIGxldCBpID0gMDsgaSA8IG5hdlRPR0dMRS5sZW5ndGg7IGkrKyApIHtcclxuXHRcdGluaXRFYWNoTmF2VG9nZ2xlU21hbGwoIG5hdlRPR0dMRVsgaSBdICk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhdGUgdGhlIHNjcmlwdCB0byBwcm9jZXNzIHNtYWxsXHJcbiAqIG5hdmlnYXRpb24gdG9nZ2xlIGZvciBhIHNwZWNpZmljIG5hdmlnYXRpb24gbWVudS5cclxuICogQHBhcmFtIHtPYmplY3R9IG5hdiBOYXZpZ2F0aW9uIGVsZW1lbnQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0RWFjaE5hdlRvZ2dsZVNtYWxsKCBuYXYgKSB7XHJcblx0Y29uc3QgbWVudVRPR0dMRSA9IG5hdi5xdWVyeVNlbGVjdG9yKCAnLm1lbnUtdG9nZ2xlJyApO1xyXG5cclxuXHQvLyBSZXR1cm4gZWFybHkgaWYgTUVOVVRPR0dMRSBpcyBtaXNzaW5nLlxyXG5cdGlmICggISBtZW51VE9HR0xFICkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Ly8gQWRkIGFuIGluaXRpYWwgdmFsdWVzIGZvciB0aGUgYXR0cmlidXRlLlxyXG5cdG1lbnVUT0dHTEUuc2V0QXR0cmlidXRlKCAnYXJpYS1leHBhbmRlZCcsICdmYWxzZScgKTtcclxuXHJcblx0bWVudVRPR0dMRS5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoIGUgKSA9PiB7XHJcblx0XHRuYXYuY2xhc3NMaXN0LnRvZ2dsZSggJ25hdi0tdG9nZ2xlZC1vbicgKTtcclxuXHRcdGUudGFyZ2V0LnNldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnID09PSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJyApID8gJ3RydWUnIDogJ2ZhbHNlJyApO1xyXG5cdH0sIGZhbHNlICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUb2dnbGUgc3VibWVudXMgb3BlbiBhbmQgY2xvc2VkLCBhbmQgdGVsbCBzY3JlZW4gcmVhZGVycyB3aGF0J3MgZ29pbmcgb24uXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJlbnRNZW51SXRlbSBQYXJlbnQgbWVudSBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlVG9nZ2xlIEZvcmNlIHRoZSBtZW51IHRvZ2dsZS5cclxuICogQHJldHVybiB7dm9pZH1cclxuICovXHJcbmZ1bmN0aW9uIHRvZ2dsZVN1Yk1lbnUoIHBhcmVudE1lbnVJdGVtLCBmb3JjZVRvZ2dsZSApIHtcclxuXHRjb25zdCB0b2dnbGVCdXR0b24gPSBwYXJlbnRNZW51SXRlbS5xdWVyeVNlbGVjdG9yKCAnLmRyb3Bkb3duLXRvZ2dsZScgKSxcclxuXHRcdHN1Yk1lbnUgPSBwYXJlbnRNZW51SXRlbS5xdWVyeVNlbGVjdG9yKCAndWwnICk7XHJcblx0bGV0IHBhcmVudE1lbnVJdGVtVG9nZ2xlZCA9IHBhcmVudE1lbnVJdGVtLmNsYXNzTGlzdC5jb250YWlucyggJ21lbnUtaXRlbS0tdG9nZ2xlZC1vbicgKTtcclxuXHJcblx0Ly8gV2lsbCBiZSB0cnVlIGlmIHdlIHdhbnQgdG8gZm9yY2UgdGhlIHRvZ2dsZSBvbiwgZmFsc2UgaWYgZm9yY2UgdG9nZ2xlIGNsb3NlLlxyXG5cdGlmICggdW5kZWZpbmVkICE9PSBmb3JjZVRvZ2dsZSAmJiAnYm9vbGVhbicgPT09ICggdHlwZW9mIGZvcmNlVG9nZ2xlICkgKSB7XHJcblx0XHRwYXJlbnRNZW51SXRlbVRvZ2dsZWQgPSAhIGZvcmNlVG9nZ2xlO1xyXG5cdH1cclxuXHJcblx0Ly8gVG9nZ2xlIGFyaWEtZXhwYW5kZWQgc3RhdHVzLlxyXG5cdHRvZ2dsZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJywgKCAhIHBhcmVudE1lbnVJdGVtVG9nZ2xlZCApLnRvU3RyaW5nKCkgKTtcclxuXHJcblx0LypcclxuXHQgKiBTdGVwcyB0byBoYW5kbGUgZHVyaW5nIHRvZ2dsZTpcclxuXHQgKiAtIExldCB0aGUgcGFyZW50IG1lbnUgaXRlbSBrbm93IHdlJ3JlIHRvZ2dsZWQgb24vb2ZmLlxyXG5cdCAqIC0gVG9nZ2xlIHRoZSBBUklBIGxhYmVsIHRvIGxldCBzY3JlZW4gcmVhZGVycyBrbm93IHdpbGwgZXhwYW5kIG9yIGNvbGxhcHNlLlxyXG5cdCAqL1xyXG5cdGlmICggcGFyZW50TWVudUl0ZW1Ub2dnbGVkICkge1xyXG5cdFx0Ly8gVG9nZ2xlIFwib2ZmXCIgdGhlIHN1Ym1lbnUuXHJcblx0XHRwYXJlbnRNZW51SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCAnbWVudS1pdGVtLS10b2dnbGVkLW9uJyApO1xyXG5cdFx0c3ViTWVudS5jbGFzc0xpc3QucmVtb3ZlKCAndG9nZ2xlLXNob3cnICk7XHJcblx0XHR0b2dnbGVCdXR0b24uc2V0QXR0cmlidXRlKCAnYXJpYS1sYWJlbCcsIHdwUmlnU2NyZWVuUmVhZGVyVGV4dC5leHBhbmQgKTtcclxuXHJcblx0XHQvLyBNYWtlIHN1cmUgYWxsIGNoaWxkcmVuIGFyZSBjbG9zZWQuXHJcblx0XHRjb25zdCBzdWJNZW51SXRlbXNUb2dnbGVkID0gcGFyZW50TWVudUl0ZW0ucXVlcnlTZWxlY3RvckFsbCggJy5tZW51LWl0ZW0tLXRvZ2dsZWQtb24nICk7XHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBzdWJNZW51SXRlbXNUb2dnbGVkLmxlbmd0aDsgaSsrICkge1xyXG5cdFx0XHR0b2dnbGVTdWJNZW51KCBzdWJNZW51SXRlbXNUb2dnbGVkWyBpIF0sIGZhbHNlICk7XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdC8vIE1ha2Ugc3VyZSBzaWJsaW5ncyBhcmUgY2xvc2VkLlxyXG5cdFx0Y29uc3QgcGFyZW50TWVudUl0ZW1zVG9nZ2xlZCA9IHBhcmVudE1lbnVJdGVtLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCggJ2xpLm1lbnUtaXRlbS0tdG9nZ2xlZC1vbicgKTtcclxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHBhcmVudE1lbnVJdGVtc1RvZ2dsZWQubGVuZ3RoOyBpKysgKSB7XHJcblx0XHRcdHRvZ2dsZVN1Yk1lbnUoIHBhcmVudE1lbnVJdGVtc1RvZ2dsZWRbIGkgXSwgZmFsc2UgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBUb2dnbGUgXCJvblwiIHRoZSBzdWJtZW51LlxyXG5cdFx0cGFyZW50TWVudUl0ZW0uY2xhc3NMaXN0LmFkZCggJ21lbnUtaXRlbS0tdG9nZ2xlZC1vbicgKTtcclxuXHRcdHN1Yk1lbnUuY2xhc3NMaXN0LmFkZCggJ3RvZ2dsZS1zaG93JyApO1xyXG5cdFx0dG9nZ2xlQnV0dG9uLnNldEF0dHJpYnV0ZSggJ2FyaWEtbGFiZWwnLCB3cFJpZ1NjcmVlblJlYWRlclRleHQuY29sbGFwc2UgKTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBkcm9wZG93biBidXR0b25cclxuICogZWxlbWVudCBuZWVkZWQgZm9yIHRoZSBtZW51LlxyXG4gKiBAcmV0dXJuIHtPYmplY3R9IGRyb3AtZG93biBidXR0b24gZWxlbWVudFxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0RHJvcGRvd25CdXR0b24oKSB7XHJcblx0Y29uc3QgZHJvcGRvd25CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYnV0dG9uJyApO1xyXG5cdGRyb3Bkb3duQnV0dG9uLmNsYXNzTGlzdC5hZGQoICdkcm9wZG93bi10b2dnbGUnICk7XHJcblx0ZHJvcGRvd25CdXR0b24uc2V0QXR0cmlidXRlKCAnYXJpYS1leHBhbmRlZCcsICdmYWxzZScgKTtcclxuXHRkcm9wZG93bkJ1dHRvbi5zZXRBdHRyaWJ1dGUoICdhcmlhLWxhYmVsJywgd3BSaWdTY3JlZW5SZWFkZXJUZXh0LmV4cGFuZCApO1xyXG5cdHJldHVybiBkcm9wZG93bkJ1dHRvbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiBlbGVtZW50IGlzIHRoZVxyXG4gKiBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCBpbiB0aGUgY29udGFpbmVyLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGFpbmVyXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb2N1c1NlbGVjdG9yXHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IHRoZSBlbGVtZW50IGlzIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCBpbiB0aGUgY29udGFpbmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpc2ZpcnN0Rm9jdXNhYmxlRWxlbWVudCggY29udGFpbmVyLCBlbGVtZW50LCBmb2N1c1NlbGVjdG9yICkge1xyXG5cdGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoIGZvY3VzU2VsZWN0b3IgKTtcclxuXHRpZiAoIDAgPCBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggKSB7XHJcblx0XHRyZXR1cm4gZWxlbWVudCA9PT0gZm9jdXNhYmxlRWxlbWVudHNbIDAgXTtcclxuXHR9XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIGVsZW1lbnQgaXMgdGhlXHJcbiAqIGxhc3QgZm9jdXNhYmxlIGVsZW1lbnQgaW4gdGhlIGNvbnRhaW5lci5cclxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRhaW5lclxyXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9jdXNTZWxlY3RvclxyXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCB0aGUgZWxlbWVudCBpcyB0aGUgbGFzdCBmb2N1c2FibGUgZWxlbWVudCBpbiB0aGUgY29udGFpbmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpc2xhc3RGb2N1c2FibGVFbGVtZW50KCBjb250YWluZXIsIGVsZW1lbnQsIGZvY3VzU2VsZWN0b3IgKSB7XHJcblx0Y29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCggZm9jdXNTZWxlY3RvciApO1xyXG5cdGlmICggMCA8IGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCApIHtcclxuXHRcdHJldHVybiBlbGVtZW50ID09PSBmb2N1c2FibGVFbGVtZW50c1sgZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMSBdO1xyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNjcm9sbFRvVG9wKCkge1xyXG5cdGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JvbGwtdG9wX19idXR0b24nKTtcclxuXHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHR3aW5kb3cuc2Nyb2xsVG8oe3RvcDowLCBiZWhhdmlvcjonc21vb3RoJ30pXHJcblx0fSlcclxufVxyXG4iXX0=